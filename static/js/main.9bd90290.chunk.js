(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{39:function(e,t,a){e.exports=a.p+"static/media/mb_simplified.3227be1b.stl"},52:function(e,t,a){e.exports=a(94)},92:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(33),l=a.n(o),c=a(95),i=a(98),s=a(96),m=a(97),u=a(99),d=a(48),h=a(12);function f(e){var t=e.fileName,a=e.children,n=e.startTime,o=e.videoUrl;return r.a.createElement(h.b,{to:"/file/".concat(t,"/").concat(n).concat(o?"?videoUrl=".concat(o):"")},r.a.createElement(d.a,{action:!0},a))}var v=function(){return r.a.createElement(c.a,{className:"vh-100 d-flex justify-content-center align-items-center flex-column"},r.a.createElement("h1",null,"Micro:Logger"),r.a.createElement("p",{className:"text-center"},"An powerful, interactive logger for your Micro:Bit."),r.a.createElement("b",null,"Click an item to get started"),r.a.createElement(i.a,null,r.a.createElement(f,{fileName:"welcome",startTime:1603002903403,videoUrl:"https://youtu.be/tFzeVXQATA0"},"Welcome to Micro:Logger!"),r.a.createElement(f,{fileName:"sensors",startTime:1602918840792,videoUrl:"https://youtu.be/hwPAFkCkD8w"},"Exploring the sensors"),r.a.createElement(f,{fileName:"errors",startTime:1602920032281,videoUrl:"https://youtu.be/HIJRud5PTjo"},"How does the ACK and Timeout features work?"),r.a.createElement(f,{fileName:"errors_real",startTime:1602920032281,videoUrl:"https://youtu.be/EKtGYOADuSo"},"Error prevention in a real scenario"),r.a.createElement(f,{fileName:"micro_code",startTime:1602920032281,videoUrl:"https://youtu.be/dEbN2fJS_bU"},"A look into the Micro:bit's code"),r.a.createElement(f,{fileName:"pc_code",startTime:1602997561068,videoUrl:"https://youtu.be/eIw1nj0tlAM"},"A look into the PC's code"),r.a.createElement(f,{fileName:"web_code",startTime:1602920032281,videoUrl:"https://youtu.be/bp_MS6-q8Vs"},"A look into the Website's code")),r.a.createElement("h3",{className:"mt-5 text-center"},"Control the Micro:Bit connected to this PC"),r.a.createElement(s.a,null,r.a.createElement(m.a,null,r.a.createElement("a",{href:"/restart"},r.a.createElement(u.a,{variant:"dark"},"Restart"))),r.a.createElement(m.a,null,r.a.createElement("a",{href:"/reset"},r.a.createElement(u.a,{variant:"warning"},"Reset"))),r.a.createElement(m.a,null,r.a.createElement("a",{href:"/stop"},r.a.createElement(u.a,{variant:"danger"},"Stop")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=a(2),E=a(25),b=a(38),g=a.n(b),N=a(39),w=a.n(N),y=a(40),A=a.n(y),_=a(47),k=a(41),x=a(42),M=a(46),j=a(49),O=a(43),T=a.n(O),U=(a(74),function(e){Object(j.a)(a,e);var t=Object(M.a)(a);function a(e){var n;return Object(k.a)(this,a),(n=t.call(this,e)).oldAngle=0,n}return Object(x.a)(a,[{key:"directionName",value:function(e){var t=this.props.directionNames.length,a=360/t,n=Math.floor((e+a/2)/a);return n=n>=t?0:n,this.props.directionNames[n]}},{key:"normalizeAngle",value:function(e){for(var t=e,a=this.oldAngle||0,n=a%360;t<0;)t+=360;for(;t>360;)t-=360;for(;a<0;)a+=360;for(;a>360;)a-=360;return n<0&&(n+=360),n<180&&t>n+180&&(a-=360),n>=180&&t<=n-180&&(a+=360),a+=t-n,this.oldAngle=a,a}},{key:"render",value:function(){var e=this.normalizeAngle(this.props.direction),t=this.directionName(e);return r.a.createElement("div",{className:"compass",style:this.props.style},r.a.createElement("div",{className:"compass__windrose",style:T()({transform:"rotate(-".concat(this.props.direction,"deg)")})},Object(_.a)(Array(10)).map((function(e,t){return r.a.createElement("div",{className:"compass__mark",key:t+1})})),r.a.createElement("div",{className:"compass__mark--direction-h"}),r.a.createElement("div",{className:"compass__mark--direction-v"})),r.a.createElement("div",{className:"compass__arrow-container"},r.a.createElement("div",{className:"compass__arrow"}),r.a.createElement("div",{className:"compass__labels"},r.a.createElement("span",null,t),r.a.createElement("span",null,e,r.a.createElement("sup",null,"o")))))}}]),a}(r.a.Component));U.defaultProps={direction:0,directionNames:["N","NE","E","SE","S","SW","W","NW"]};var C,S=a(44),P=a.n(S),W={xAngle:0,yAngle:Math.PI/2,zAngle:0},I=function(e,t){e.createCanvas(500,500,"webgl").parent(t),C=e.loadModel(w.a),e.angleMode("radians")},z=function(e){e.background("#000000"),e.scale(85),e.orbitControl(),e.rotateX(Math.PI),e.rotateZ(-W.xAngle),e.rotateX(-W.yAngle),e.model(C)};var B=function(e){var t,a,o=e.match,l=e.history,i=e.location,d=null===o||void 0===o||null===(t=o.params)||void 0===t?void 0:t.filePrefix,f=new URLSearchParams(i.search),v=parseInt((null===o||void 0===o||null===(a=o.params)||void 0===a?void 0:a.recordTime)||""),p=Object(n.useState)([]),b=Object(E.a)(p,2),N=b[0],w=b[1],y=Object(n.useState)(),_=Object(E.a)(y,2),k=_[0],x=_[1],M=Object(n.useRef)(),j=f.get("videoUrl")||"videos/".concat(d,".mp4");Object(n.useEffect)((function(){fetch("videos/".concat(d,".csv")).then((function(e){return e.text()})).then((function(e){if(e.includes("html"))throw new Error("Not found");for(var t=e.split("\n"),a=t[0].split(","),n=[],r=1;r<t.length-1;r++){for(var o=t[r].split(",").map(Number),l={},c=0;c<a.length;c++)l[a[c].replace(/[\n\r]/g,"")]=o[c];n.push(l)}console.log(n),w(n)})).catch((function(e){console.error(e),l.push("/404")}))}),[d,l]);var O=null===M||void 0===M?void 0:M.current;return Object(n.useEffect)((function(){if(O){var e=setInterval((function(){if(0!==N.length){var e=1e3*O.getCurrentTime()+v,t=function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1;if(n>r)throw Error("Unexpected case!");var o=Math.floor((n+r)/2);if(Math.abs(n-r)<=1)return Math.abs(t[n].timestamp-a)<Math.abs(t[r].timestamp-a)?t[n]:t[r];return t[o].timestamp>a?e(t,a,n,o-1):e(t,a,o+1,r)}(N,e);x(t)}}),100);return function(){clearInterval(e)}}}),[N,O,v]),Object(n.useEffect)((function(){k&&(W=function(e){var t=e.acc_x,a=e.acc_y,n=e.acc_z,r=Math.sqrt,o=function(e){return e*e},l=Math.atan(t/r(o(a)+o(n))),c=Math.atan(a/r(o(t)+o(n)));return{xAngle:l,yAngle:c,zAngle:0}}(k))}),[k]),d&&v||l.push("/404"),r.a.createElement(c.a,{style:{overflowX:"hidden"}},r.a.createElement(s.a,{className:"m-5 ml-1"},r.a.createElement(h.b,{to:"/"},r.a.createElement(u.a,null,"Go Back Home")),r.a.createElement("a",{href:"videos/".concat(d,".csv")},r.a.createElement(u.a,{variant:"success",className:"ml-3"},"Download CSV"))),r.a.createElement(s.a,null,r.a.createElement(m.a,{md:6},r.a.createElement(g.a,{setup:I,draw:z,style:{maxWidth:"100%"}})),r.a.createElement(m.a,{md:6},r.a.createElement(P.a,{ref:M,controls:!0,url:j,style:{maxWidth:"100%"}}))),r.a.createElement(s.a,{className:"mt-4"},r.a.createElement(m.a,{md:6,className:"d-flex align-items-center justify-content-center"},r.a.createElement(A.a,{theme:"light",value:null===k||void 0===k?void 0:k.temp,max:"100",steps:"3",format:"\xb0C",height:"300"})),r.a.createElement(m.a,{md:6},r.a.createElement(U,{direction:null===k||void 0===k?void 0:k.compass,style:{transform:"scale(0.5)"}}))))};a(92),a(93);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,{basename:"/"},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:v}),r.a.createElement(p.b,{path:"/file/:filePrefix/:recordTime",component:B}),r.a.createElement(p.b,{path:"/404"},r.a.createElement("h1",null,"404 Not Found")),r.a.createElement(p.a,{to:"/404"})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.9bd90290.chunk.js.map